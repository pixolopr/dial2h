<ion-view view-title="Vehicles">

    <div class="row tabdiv">
        <div class="col col-20"></div>
        <div class="col col-25">
            <button ng-click="tab=false" class="button newtab tabdist2 " style="font-size:40px;" ng-class="{tabselected:tab, tabdeselected:!tab}">
                <img src="img/list.png" style="width: 66%;">
            </button>
        </div>
        <div class="col col-10"></div>
        <div class="col col-25">
            <button ng-click="tab=true" class="button newtab tabdist " style="font-size:40px;" ng-class="{tabselected:!tab, tabdeselected:tab}">
                <img src="img/map.png" style="width: 100%;">
            </button>
        </div>
        <div class="col col-20"></div>
    </div>
    <ion-content  class="bg" ng-init="initialize()">

        <!--<div map-lazy-load="http://maps.google.com/maps/api/js">
    <map center="41,-87" zoom="3"></map>
</div>-->
        <ui-gmap-google-map data-tap-disabled="true" ng-if="tab" center='map.center' zoom='map.zoom'>
            <ui-gmap-marker ng-repeat="mark in markers" idKey='mark.id' coords='mark.location' icon='mark.icon' click="sendinquiry(mark.id)">
            </ui-gmap-marker>
            <!--<ui-gmap-rectangle bounds="bounds" fill="'#FFFFFF .5'" draggable='true' editable='true' events="events"></ui-gmap-rectangle>-->
        </ui-gmap-google-map>
        <div ng-if="!tab">
            <!--<div id="mapo" data-tap-disabled="true"></div>-->
            <!--<ul class="list">-->
            <p class="nodatamessage" ng-if="vehicledata.length == 0">No Vehicles were fetched</p>
            <!--<li class="item"  style="margin:1vh;border: rgba(128, 128, 128, 0.43) 5px double;">-->
            <ion-list class="vlist">
                <ion-item click-for-options class="item-text-wrap listy" ng-repeat="vehicle in vehicledata" ng-if="vehicledata.length != 0" ng-click="showDeleteButtons()" >
                    <!--<div class="card" >-->
                    <!--<div class="">-->
                    <div class="row cardy">
                        <div class="col">
                            <div class="vehicleimagediv">

                                <div class="tononimage" ng-if="vehicle.ton">{{vehicle.ton}} Ton</div>
                                <div class="tononimage trolleyonimage" ng-if="vehicle.ton">Trolley Length: {{vehicle.trollylength}}</div>
                                <img src="{{vehicle.vehiclephoto}}" width="90%" class="vehicleimage" />

                            </div>
                        </div>
                        <div class="col">
                            <div class="vehiclecodediv">A{{vehicle.vendorid}}</div>
                            {{vehicle.vehiclemake +" "+ vehicle.vehiclemodel}}
                            <br>
                            <p style="font-size: smaller;
">{{vehicle.vendorfirstname+" "+vehicle.vendorlastname}}</p>
                            <div class="prefroute">
                                {{vehicle.preferedroute}}
                            </div>
                        </div>
                    </div>
                    <ion-option-button ng-if="!vehicle.call" class="button-positive" ng-click="sendinquiry(vehicle)">
                        INQUIRE
                    </ion-option-button>
                    <ion-option-button ng-if="vehicle.call" class="button-balanced" ng-href="tel: {{vehicle.vendorcontact}}">
                        CALL
                    </ion-option-button>
                    <!-- </div>-->
                    <!--</div>-->
                </ion-item>
            </ion-list>
            </li>
            </ul>
        </div>

    </ion-content>
</ion-view>